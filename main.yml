---
- hosts: all

  vars_files:
    - configs/default.config.yaml
    - configs/macos.config.yaml

  roles:
      - role: elliotweiser.osx-command-line-tools
        when: ansible_os_family == "Darwin"
        tags: [ 'macos' ]
      - role: geerlingguy.mac.homebrew
        when: ansible_os_family == "Darwin"
        tags: [ 'macos' ]

  tasks:
    - name: Import git config variables
      include_vars: configs/git.config.yaml
      tags:
        - git
    - name: Install or update Git
      import_tasks: tasks/git/git.yml
      tags:
        - git

#    - name: Configure macOS and install essesntial packages.
#      include_tasks: tasks/macos.yaml
#      when: ansible_os_family == "Darwin"
#      tags:
#        - macos
#
#    - name: Configure zsh.
#      include_tasks: tasks/zsh.yaml
#      when: ansible_os_family == "Darwin"
#
#    - name: Configure Python.
#      include_tasks: tasks/python.yaml
#
#    - name: Configure VS Code.
#      include_tasks: tasks/vscode.yaml
